services:
  pocketbase:
    container_name: pocketbase
    build:
      context: .
    restart: unless-stopped
    ports:
      - "8090:8090"
    volumes:
      - ./data:/pb/pb_data
    environment:
      # For local testing, allow all IPs (or comment out to test IP filtering)
      # In production, this will be set via Fly.io secrets
      - ALLOWED_HOME_IP=0.0.0.0/0
    networks:
      - geoffjay-com
networks:
  geoffjay-com:
    external: true
